{"version":3,"file":"time-picker.js","sources":["../src/time-picker.js"],"sourcesContent":["\n/* eslint-disable indent */\n/**\n * --------------------------------------------------------------------------\n * CoreUI PRO (v4.3.4): time-picker.js\n * License (https://coreui.io/pro/license-new/)\n * --------------------------------------------------------------------------\n */\n\nimport { defineJQueryPlugin } from './util/index'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport SelectorEngine from './dom/selector-engine'\nimport {\n  convert12hTo24h,\n  convert24hTo12h,\n  getAmPm,\n  getListOfHours,\n  getListOfMinutes,\n  getListOfSeconds,\n  isAmPm,\n  isValidTime\n} from './util/time'\nimport Picker from './picker'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'time-picker'\nconst DATA_KEY = 'coreui.time-picker'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_TIME_CHANGE = `timeChange${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"time-picker\"]'\n\nconst Default = {\n  ...Picker.Default,\n  cleaner: true,\n  container: 'dropdown',\n  disabled: false,\n  footer: true,\n  indicator: true,\n  inputReadOnly: false,\n  locale: 'default',\n  placeholder: 'Select time',\n  size: null,\n  time: null,\n  variant: 'roll'\n}\n\nconst DefaultType = {\n  ...Picker.DefaultType,\n  cleaner: 'boolean',\n  indicator: 'boolean',\n  inputReadOnly: 'boolean',\n  locale: 'string',\n  placeholder: 'string',\n  size: '(string|null)',\n  time: '(date|string|null)',\n  variant: 'string'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass TimePicker extends Picker {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._date = this._convertStringToDate(this._config.time)\n    this._initialDate = null\n    this._ampm = this._date ? getAmPm(new Date(this._date), this._config.locale) : 'am'\n\n    // subcomponents\n    this._input = null\n    this._timePickerBody = null\n\n    this._createTimePicker()\n    this._createTimePickerSelection()\n    this._addEventListeners()\n\n    this._setUpSelects()\n  }\n\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n\n  cancel() {\n    this._date = this._initialDate\n    this._input.value = this._initialDate ? this._convertStringToDate(this._initialDate).toLocaleTimeString(this._config.locale) : ''\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n  }\n\n  clear() {\n    this._date = null\n    this._input.value = ''\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n  }\n\n  reset() {\n    this._date = this._convertStringToDate(this._config.time)\n    this._input.value = this._convertStringToDate(this._config.time).toLocaleTimeString(this._config.locale)\n    this._timePickerBody.innerHTML = ''\n    this._createTimePickerSelection()\n  }\n\n  update(config) {\n    this._config = this._getConfig(config)\n    this._element.innerHTML = ''\n    this._createTimePicker()\n    this._createTimePickerSelection()\n  }\n\n  _getPartOfTime(part) {\n    if (this._date === null) {\n      return null\n    }\n\n    if (part === 'hours') {\n      return isAmPm(this._config.locale) ? convert24hTo12h(this._date.getHours()) : this._date.getHours()\n    }\n\n    if (part === 'minutes') {\n      return this._date.getMinutes()\n    }\n\n    if (part === 'seconds') {\n      return this._date.getSeconds()\n    }\n\n    if (part === 'toggle') {\n      return getAmPm(new Date(this._date), this._config.locale)\n    }\n  }\n\n  _setUpRolls(initial = false) {\n    for (const part of Array.from(['hours', 'minutes', 'seconds', 'toggle'])) {\n      for (const element of SelectorEngine.find(`[data-coreui-${part}]`, this._element)) {\n        if (this._getPartOfTime(part) === Manipulator.getDataAttribute(element, part)) {\n          element.classList.add('selected')\n          this._scrollTo(element.parentElement, element, initial)\n\n          for (const sibling of element.parentElement.children) {\n            // eslint-disable-next-line max-depth\n            if (sibling !== element) {\n              sibling.classList.remove('selected')\n            }\n          }\n        }\n      }\n    }\n  }\n\n  _setUpSelects() {\n    for (const part of Array.from(['hours', 'minutes', 'seconds', 'toggle'])) {\n      for (const element of SelectorEngine.find(`select.${part}`, this._element)) {\n        if (this._getPartOfTime(part)) {\n          element.value = this._getPartOfTime(part)\n        }\n      }\n    }\n  }\n\n  // Private\n  _addEventListeners() {\n    EventHandler.on(this._element, 'shown.coreui.dropdown', () => {\n      this._initialDate = new Date(this._date)\n\n      if (this._config.variant === 'roll') {\n        this._setUpRolls(true)\n      }\n\n      if (this._config.variant === 'select') {\n        this._setUpSelects()\n      }\n    })\n\n    EventHandler.on(this._element, 'timeChange.coreui.time-picker', () => {\n      if (this._config.variant === 'roll') {\n        this._setUpRolls()\n      }\n\n      if (this._config.variant === 'select') {\n        this._setUpSelects()\n      }\n    })\n\n    EventHandler.on(this._element, 'click', '.picker-input-group-cleaner', event => {\n      event.stopPropagation()\n      this.clear()\n    })\n\n    EventHandler.on(this._element, 'onCancelClick.coreui.picker', () => {\n      this.cancel()\n    })\n\n    EventHandler.on(this._input, 'input', event => {\n      if (isValidTime(event.target.value)) {\n        this._date = this._convertStringToDate(event.target.value)\n\n        EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n          timeString: this._date.toTimeString(),\n          localeTimeString: this._date.toLocaleTimeString(),\n          date: this._date\n        })\n      }\n    })\n  }\n\n  _convertStringToDate(date) {\n    return date ? (date instanceof Date ? date : new Date(`1970-01-01 ${date}`)) : null\n  }\n\n  _createInputGroup() {\n    const inputGroupEl = document.createElement('div')\n    inputGroupEl.classList.add('input-group', 'picker-input-group')\n\n    if (this._config.size) {\n      inputGroupEl.classList.add(`input-group-${this._config.size}`)\n    }\n\n    const inputEl = document.createElement('input')\n    inputEl.classList.add('form-control')\n    inputEl.disabled = this._config.disabled\n    inputEl.placeholder = this._config.placeholder\n    inputEl.readOnly = this._config.inputReadOnly\n    inputEl.type = 'text'\n    inputEl.value = this._date ? this._date.toLocaleTimeString(this._config.locale) : ''\n\n    if (this._element.id) {\n      inputEl.name = `time-picker-${this._element.id}`\n    }\n\n    inputGroupEl.append(inputEl)\n\n    const inputGroupTextEl = document.createElement('span')\n    inputGroupTextEl.classList.add('input-group-text')\n    if (this._config.indicator) {\n      inputGroupTextEl.innerHTML = `\n        <span class=\"picker-input-group-indicator\">\n          <span class=\"picker-input-group-icon time-picker-input-icon\"></span>\n        </span>`\n    }\n\n    if (this._config.cleaner) {\n      inputGroupTextEl.innerHTML += `\n        <span class=\"picker-input-group-cleaner\" role=\"button\">\n          <span class=\"picker-input-group-icon time-picker-cleaner-icon\"></span>\n        </span>`\n    }\n\n    if (this._config.indicator || this._config.cleaner) {\n      inputGroupEl.append(inputGroupTextEl)\n    }\n\n    this._input = inputEl\n\n    return inputGroupEl\n  }\n\n  _createTimePicker() {\n    this._element.classList.add('time-picker')\n\n    if (this._config.container === 'dropdown') {\n      this._dropdownToggleEl.append(this._createInputGroup())\n      this._dropdownMenuEl.prepend(this._createTimePickerBody())\n    }\n\n    if (this._config.container === 'inline') {\n      this._element.append(this._createTimePickerBody())\n    }\n  }\n\n  _createTimePickerBody() {\n    const timePickerBodyEl = document.createElement('div')\n    timePickerBodyEl.classList.add('time-picker-body')\n\n    if (this._config.variant === 'roll') {\n      timePickerBodyEl.classList.add('time-picker-roll')\n    }\n\n    this._timePickerBody = timePickerBodyEl\n\n    return timePickerBodyEl\n  }\n\n  _createTimePickerSelection() {\n    const selectedHour = this._date ?\n    (isAmPm(this._config.locale) ?\n      convert24hTo12h(this._date.getHours()) :\n      this._date.getHours()) :\n    null\n    const selectedMinute = this._date ? this._date.getMinutes() : null\n    const selectedSecond = this._date ? this._date.getSeconds() : null\n\n    if (this._config.variant === 'roll') {\n      this._createTimePickerRoll(selectedHour, selectedMinute, selectedSecond)\n    }\n\n    if (this._config.variant === 'select') {\n      this._createTimePickerSelect(selectedHour, selectedMinute, selectedSecond)\n    }\n  }\n\n  _createSelect(className, options) {\n    const selectEl = document.createElement('select')\n    selectEl.classList.add('form-select', 'form-select-sm', className)\n    selectEl.disabled = this._config.disabled\n    selectEl.addEventListener('change', event => this._handleTimeChange(className, event.target.value))\n\n    for (const option of options) {\n      const optionEl = document.createElement('option')\n      optionEl.value = option.value\n      optionEl.innerHTML = option.label\n\n      selectEl.append(optionEl)\n    }\n\n    return selectEl\n  }\n\n  _createTimePickerSelect() {\n    const timeSeparatorEl = document.createElement('div')\n    timeSeparatorEl.classList.add('time-separator')\n    timeSeparatorEl.innerHTML = ':'\n\n    this._timePickerBody.innerHTML = '<span class=\"time-picker-inline-icon\"></span>'\n    this._timePickerBody.append(\n      this._createSelect('hours', getListOfHours(this._config.locale)),\n      timeSeparatorEl.cloneNode(true),\n      this._createSelect('minutes', getListOfMinutes(this._config.locale, true)),\n      timeSeparatorEl,\n      this._createSelect('seconds', getListOfSeconds(this._config.locale, true))\n    )\n\n    if (isAmPm(this._config.locale)) {\n      this._timePickerBody.append(\n        this._createSelect('toggle', [{ value: 'am', label: 'AM' }, { value: 'pm', label: 'PM' }], '_selectAmPm', this._ampm)\n      )\n    }\n  }\n\n  _createTimePickerRoll() {\n    this._timePickerBody.append(\n      this._createTimePickerRollCol(getListOfHours(this._config.locale), 'hours'),\n      this._createTimePickerRollCol(getListOfMinutes(this._config.locale), 'minutes'),\n      this._createTimePickerRollCol(getListOfSeconds(this._config.locale), 'seconds')\n    )\n\n    if (isAmPm(this._config.locale)) {\n      this._timePickerBody.append(\n        this._createTimePickerRollCol([{ value: 'am', label: 'AM' }, { value: 'pm', label: 'PM' }], 'toggle', this._ampm)\n      )\n    }\n  }\n\n  _createTimePickerRollCol(options, part) {\n    const timePickerRollColEl = document.createElement('div')\n    timePickerRollColEl.classList.add('time-picker-roll-col')\n\n    for (const option of options) {\n      const timePickerRollCellEl = document.createElement('div')\n      timePickerRollCellEl.classList.add('time-picker-roll-cell')\n      timePickerRollCellEl.setAttribute('role', 'button')\n      timePickerRollCellEl.innerHTML = option.label\n      timePickerRollCellEl.addEventListener('click', () => {\n        this._handleTimeChange(part, option.value)\n      })\n\n      Manipulator.setDataAttribute(timePickerRollCellEl, part, option.value)\n\n      timePickerRollColEl.append(timePickerRollCellEl)\n    }\n\n    return timePickerRollColEl\n  }\n\n  _getConfig(config) {\n    config = {\n      ...this.constructor.Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...(typeof config === 'object' ? config : {})\n    }\n\n    return config\n  }\n\n  _handleTimeChange = (set, value) => {\n    const _date = this._date || new Date('1970-01-01')\n\n    if (set === 'toggle') {\n      if (value === 'am') {\n        this._ampm = 'am'\n        _date.setHours(_date.getHours() - 12)\n      }\n\n      if (value === 'pm') {\n        this._ampm = 'pm'\n        _date.setHours(_date.getHours() + 12)\n      }\n    }\n\n    if (set === 'hours') {\n      if (isAmPm(this._config.locale)) {\n        _date.setHours(convert12hTo24h(this._ampm, Number.parseInt(value, 10)))\n      } else {\n        _date.setHours(Number.parseInt(value, 10))\n      }\n    }\n\n    if (set === 'minutes') {\n      _date.setMinutes(Number.parseInt(value, 10))\n    }\n\n    if (set === 'seconds') {\n      _date.setSeconds(Number.parseInt(value, 10))\n    }\n\n    if (this._input) {\n      this._input.value = _date.toLocaleTimeString(this._config.locale)\n    }\n\n    this._date = new Date(_date)\n\n    EventHandler.trigger(this._element, EVENT_TIME_CHANGE, {\n      timeString: _date.toTimeString(),\n      localeTimeString: _date.toLocaleTimeString(),\n      date: _date\n    })\n  }\n\n  _scrollTo(parent, children, initial = false) {\n    parent.scrollTo({ top: children.offsetTop, behavior: initial ? 'instant' : 'smooth' })\n  }\n\n  _updateTimePicker() {\n    this._element.innerHTML = ''\n    this._createTimePicker()\n  }\n\n  // Static\n\n  static timePickerInterface(element, config) {\n    const data = TimePicker.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = TimePicker.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const timePickers = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = timePickers.length; i < len; i++) {\n    TimePicker.timePickerInterface(timePickers[i])\n  }\n})\n\n/**\n* ------------------------------------------------------------------------\n* jQuery\n* ------------------------------------------------------------------------\n* add .TimePicker to jQuery only if jQuery is present\n*/\n\ndefineJQueryPlugin(TimePicker)\n\nexport default TimePicker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_TIME_CHANGE","EVENT_LOAD_DATA_API","SELECTOR_DATA_TOGGLE","Default","Picker","cleaner","container","disabled","footer","indicator","inputReadOnly","locale","placeholder","size","time","variant","DefaultType","TimePicker","constructor","element","config","_handleTimeChange","set","value","_date","Date","_ampm","setHours","getHours","isAmPm","_config","convert12hTo24h","Number","parseInt","setMinutes","setSeconds","_input","toLocaleTimeString","EventHandler","trigger","_element","timeString","toTimeString","localeTimeString","date","_getConfig","_convertStringToDate","_initialDate","getAmPm","_timePickerBody","_createTimePicker","_createTimePickerSelection","_addEventListeners","_setUpSelects","cancel","innerHTML","clear","reset","update","_getPartOfTime","part","convert24hTo12h","getMinutes","getSeconds","_setUpRolls","initial","Array","from","SelectorEngine","find","Manipulator","getDataAttribute","classList","add","_scrollTo","parentElement","sibling","children","remove","on","event","stopPropagation","isValidTime","target","_createInputGroup","inputGroupEl","document","createElement","inputEl","readOnly","type","id","name","append","inputGroupTextEl","_dropdownToggleEl","_dropdownMenuEl","prepend","_createTimePickerBody","timePickerBodyEl","selectedHour","selectedMinute","selectedSecond","_createTimePickerRoll","_createTimePickerSelect","_createSelect","className","options","selectEl","addEventListener","option","optionEl","label","timeSeparatorEl","getListOfHours","cloneNode","getListOfMinutes","getListOfSeconds","_createTimePickerRollCol","timePickerRollColEl","timePickerRollCellEl","setAttribute","setDataAttribute","getDataAttributes","parent","scrollTo","top","offsetTop","behavior","_updateTimePicker","timePickerInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","undefined","startsWith","window","timePickers","i","len","length","defineJQueryPlugin"],"mappings":"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"}