{"version":3,"file":"date-picker.js","sources":["../src/date-picker.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO (v4.3.4): date-picker.js\n * License (https://coreui.io/pro/license-new/)\n * --------------------------------------------------------------------------\n */\n\nimport { defineJQueryPlugin } from './util/index'\nimport EventHandler from './dom/event-handler'\nimport SelectorEngine from './dom/selector-engine'\nimport DateRangePicker from './date-range-picker'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'date-picker'\nconst DATA_KEY = 'coreui.date-picker'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_DATE_CHANGE = `dateChange${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-coreui-toggle=\"date-picker\"]'\n\nconst Default = {\n  ...DateRangePicker.Default,\n  calendars: 1,\n  placeholder: ['Select date'],\n  range: false,\n  separator: false\n}\n\nconst DefaultType = {\n  ...DateRangePicker.DefaultType,\n  date: '(date|string|null)'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass DatePicker extends DateRangePicker {\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Overrides\n\n  _addCalendarEventListeners() {\n    super._addCalendarEventListeners()\n    for (const calendar of SelectorEngine.find('.calendar', this._element)) {\n      EventHandler.on(calendar, 'startDateChange.coreui.calendar', event => {\n        this._startDate = event.date\n        this._selectEndDate = event.selectEndDate\n        this._startInput.value = this._setInputValue(event.date)\n        this._updateCalendars()\n\n        EventHandler.trigger(this._element, EVENT_DATE_CHANGE, {\n          date: event.date,\n          formatedDate: event.date ? this._formatDate(event.date) : undefined\n        })\n      })\n    }\n  }\n\n  // Static\n\n  static datePickerInterface(element, config) {\n    const data = DatePicker.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = DatePicker.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  const datePickers = SelectorEngine.find(SELECTOR_DATA_TOGGLE)\n  for (let i = 0, len = datePickers.length; i < len; i++) {\n    DatePicker.datePickerInterface(datePickers[i])\n  }\n})\n\n/**\n* ------------------------------------------------------------------------\n* jQuery\n* ------------------------------------------------------------------------\n* add .DatePicker to jQuery only if jQuery is present\n*/\n\ndefineJQueryPlugin(DatePicker)\n\nexport default DatePicker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_DATE_CHANGE","EVENT_LOAD_DATA_API","SELECTOR_DATA_TOGGLE","Default","DateRangePicker","calendars","placeholder","range","separator","DefaultType","date","DatePicker","_addCalendarEventListeners","calendar","SelectorEngine","find","_element","EventHandler","on","event","_startDate","_selectEndDate","selectEndDate","_startInput","value","_setInputValue","_updateCalendars","trigger","formatedDate","_formatDate","undefined","datePickerInterface","element","config","data","getOrCreateInstance","TypeError","jQueryInterface","each","startsWith","window","datePickers","i","len","length","defineJQueryPlugin"],"mappings":"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"}