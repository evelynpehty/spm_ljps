{"version":3,"file":"calendar.js","sources":["../src/calendar.js"],"sourcesContent":["/* eslint-disable indent, multiline-ternary */\n/**\n * --------------------------------------------------------------------------\n * CoreUI PRO (v4.3.4): calendar.js\n * License (https://coreui.io/pro/license-new/)\n * --------------------------------------------------------------------------\n */\n\nimport { defineJQueryPlugin } from './util/index'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport {\n  createGroupsInArray,\n  getMonthDetails,\n  getMonthsNames,\n  getYears,\n  isDateDisabled,\n  isDateInRange,\n  isDateSelected,\n  isLastDayOfMonth,\n  isToday,\n  isStartDate,\n  isEndDate } from './util/calendar'\nimport BaseComponent from './base-component'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'calendar'\nconst DATA_KEY = 'coreui.calendar'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst EVENT_CALENDAR_DATE_CHANGE = `calendarDateChange${EVENT_KEY}`\nconst EVENT_CELL_HOVER = `cellHover${EVENT_KEY}`\nconst EVENT_END_DATE_CHANGE = `endDateChange${EVENT_KEY}`\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`\nconst EVENT_START_DATE_CHANGE = `startDateChange${EVENT_KEY}`\n\nconst CLASS_NAME_CALENDAR = 'calendar'\n\nconst SELECTOR_CALENDAR = '.calendar'\nconst SELECTOR_CALENDAR_CELL_INNER = '.calendar-cell-inner'\n\nconst Default = {\n  calendarDate: new Date(),\n  calendars: 1,\n  disabledDates: null,\n  endDate: null,\n  firstDayOfWeek: 1,\n  locale: 'default',\n  maxDate: null,\n  minDate: null,\n  range: true,\n  startDate: null,\n  selectEndDate: false,\n  weekdayFormat: 2\n}\n\nconst DefaultType = {\n  calendarDate: '(date|string|null)',\n  calendars: 'number',\n  disabledDates: '(array|null)',\n  endDate: '(date|string|null)',\n  firstDayOfWeek: 'number',\n  locale: 'string',\n  maxDate: '(date|string|null)',\n  minDate: '(date|string|null)',\n  range: 'boolean',\n  startDate: '(date|string|null)',\n  selectEndDate: 'boolean',\n  weekdayFormat: '(number|string)'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass Calendar extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._calendarDate = this._config.calendarDate\n    this._startDate = this._config.startDate\n    this._endDate = this._config.endDate\n    this._hoverDate = null\n    this._selectEndDate = this._config.selectEndDate\n    this._view = 'days'\n\n    this._createCalendar()\n    this._addEventListeners()\n  }\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Private\n  _addEventListeners() {\n    EventHandler.on(this._element, 'click', SELECTOR_CALENDAR_CELL_INNER, event => {\n      event.preventDefault()\n      if (event.target.classList.contains('day')) {\n        this._selectDate(Manipulator.getDataAttribute(event.target, 'date'))\n      }\n\n      if (event.target.classList.contains('month')) {\n        this._setCalendarDate(new Date(this._calendarDate.getFullYear(), Manipulator.getDataAttribute(event.target, 'month'), 1))\n        this._view = 'days'\n      }\n\n      if (event.target.classList.contains('year')) {\n        this._calendarDate = new Date(Manipulator.getDataAttribute(event.target, 'year'), this._calendarDate.getMonth(), 1)\n        this._view = 'months'\n      }\n\n      this._updateCalendar()\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSEENTER, SELECTOR_CALENDAR_CELL_INNER, event => {\n      event.preventDefault()\n      if (event.target.parentElement.classList.contains('disabled')) {\n        return\n      }\n\n      this._hoverDate = new Date(Manipulator.getDataAttribute(event.target, 'date'))\n\n      EventHandler.trigger(this._element, EVENT_CELL_HOVER, {\n        date: new Date(Manipulator.getDataAttribute(event.target, 'date'))\n      })\n    })\n\n    EventHandler.on(this._element, EVENT_MOUSELEAVE, SELECTOR_CALENDAR_CELL_INNER, event => {\n      event.preventDefault()\n\n      this._hoverDate = null\n\n      EventHandler.trigger(this._element, EVENT_CELL_HOVER, {\n        date: null\n      })\n    })\n\n    // Navigation\n    EventHandler.on(this._element, 'click', '.btn-prev', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(0, -1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-double-prev', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(this._view === 'years' ? -10 : -1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-next', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(0, 1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-double-next', event => {\n      event.preventDefault()\n      this._modifyCalendarDate(this._view === 'years' ? 10 : 1)\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-month', event => {\n      event.preventDefault()\n      this._view = 'months'\n      this._element.innerHTML = ''\n      this._createCalendarPanel()\n    })\n\n    EventHandler.on(this._element, 'click', '.btn-year', event => {\n      event.preventDefault()\n      this._view = 'years'\n      this._element.innerHTML = ''\n      this._createCalendarPanel()\n    })\n  }\n\n  _setCalendarDate(date) {\n    this._calendarDate = date\n\n    EventHandler.trigger(this._element, EVENT_CALENDAR_DATE_CHANGE, {\n      date\n    })\n  }\n\n  _modifyCalendarDate(years, months = 0) {\n    const year = this._calendarDate.getFullYear()\n    const month = this._calendarDate.getMonth()\n    const d = new Date(year, month, 1)\n\n    if (years) {\n      d.setFullYear(d.getFullYear() + years)\n    }\n\n    if (months) {\n      d.setMonth(d.getMonth() + months)\n    }\n\n    this._calendarDate = d\n\n    if (this._view === 'days') {\n      EventHandler.trigger(this._element, EVENT_CALENDAR_DATE_CHANGE, {\n        date: d\n      })\n    }\n\n    this._updateCalendar()\n  }\n\n  _setEndDate(date, selectEndDate = false) {\n    this._endDate = new Date(date)\n    EventHandler.trigger(this._element, EVENT_END_DATE_CHANGE, {\n      date: this._endDate,\n      selectEndDate\n    })\n  }\n\n  _setStartDate(date, selectEndDate = true) {\n    this._startDate = new Date(date)\n    EventHandler.trigger(this._element, EVENT_START_DATE_CHANGE, {\n      date: this._startDate,\n      selectEndDate\n    })\n  }\n\n  _selectDate(date) {\n    if (isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates)) {\n      return\n    }\n\n    if (this._config.range) {\n      if (this._selectEndDate) {\n        if (this._startDate && this._startDate > new Date(date)) {\n          this._setEndDate(this._startDate)\n          this._setStartDate(date)\n        } else {\n          this._setEndDate(date)\n        }\n      } else {\n        this._setStartDate(date, true)\n      }\n    } else {\n      this._setStartDate(date)\n    }\n  }\n\n  _createCalendarPanel(addMonths) {\n    let date = this._calendarDate\n\n    if (addMonths !== 0) {\n      date = new Date(this._calendarDate.getFullYear(), this._calendarDate.getMonth() + addMonths, 1)\n    }\n\n    const year = date.getFullYear()\n    const month = date.getMonth()\n\n    const calendarPanelEl = document.createElement('div')\n    calendarPanelEl.classList.add('calendar-panel')\n\n    // Create navigation\n    const navigationElement = document.createElement('div')\n    navigationElement.classList.add('calendar-nav')\n    navigationElement.innerHTML = `\n      <div class=\"calendar-nav-prev\">\n        <button class=\"btn btn-transparent btn-sm btn-double-prev\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-double-prev\"></span>\n        </button>\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-prev\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-prev\"></span>\n        </button>` : ''}\n      </div>\n      <div class=\"calendar-nav-date\">\n        <button class=\"btn btn-transparent btn-sm btn-month\">\n          ${date.toLocaleDateString(this._config.locale, { month: 'long' })}\n        </button>\n        <button class=\"btn btn-transparent btn-sm btn-year\">\n          ${date.toLocaleDateString(this._config.locale, { year: 'numeric' })}\n        </button>\n      </div>\n      <div class=\"calendar-nav-next\">\n        ${this._view === 'days' ? `<button class=\"btn btn-transparent btn-sm btn-next\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-next\"></span>\n        </button>` : ''}\n        <button class=\"btn btn-transparent btn-sm btn-double-next\">\n          <span class=\"calendar-nav-icon calendar-nav-icon-double-next\"></span>\n        </button>\n      </div>\n    `\n\n    const monthDetails = getMonthDetails(year, month, this._config.firstDayOfWeek)\n    const listOfMonths = createGroupsInArray(getMonthsNames(this._config.locale), 4)\n    const listOfYears = createGroupsInArray(getYears(date.getFullYear()), 4)\n    const weekDays = monthDetails[0]\n\n    const calendarTable = document.createElement('table')\n    calendarTable.innerHTML = `\n    ${this._view === 'days' ? `\n      <thead>\n        <tr>\n          ${weekDays.map(({ date }) => (\n            `<th class=\"calendar-cell\">\n              <div class=\"calendar-header-cell-inner\">\n              ${typeof this._config.weekdayFormat === 'string' ?\n              date.toLocaleDateString(this._config.locale, { weekday: this._config.weekdayFormat }) :\n              date\n                  .toLocaleDateString(this._config.locale, { weekday: 'long' })\n                  .slice(0, this._config.weekdayFormat)}\n              </div>\n            </th>`\n          )).join('')}\n        </tr>\n      </thead>` : ''}\n      <tbody>\n        ${this._view === 'days' ? monthDetails.map(week => (\n          `<tr>${week.map(({ date, month }) => (\n            `<td class=\"calendar-cell ${this._dayClassNames(date, month)}\">\n              <div class=\"calendar-cell-inner day\" data-coreui-date=\"${date}\">\n                ${date.toLocaleDateString(this._config.locale, { day: 'numeric' })}\n              </div>\n            </td>`\n          )).join('')}</tr>`\n        )).join('') : ''}\n        ${this._view === 'months' ? listOfMonths.map((row, index) => (\n          `<tr>${row.map((month, idx) => (\n            `<td class=\"calendar-cell\">\n              <div class=\"calendar-cell-inner month\" data-coreui-month=\"${(index * 3) + idx - addMonths}\">\n                ${month}\n              </div>\n            </td>`\n          )).join('')}</tr>`\n        )).join('') : ''}\n        ${this._view === 'years' ? listOfYears.map(row => (\n          `<tr>${row.map(year => (\n            `<td class=\"calendar-cell\">\n              <div class=\"calendar-cell-inner year\" data-coreui-year=\"${year}\">\n                ${year}\n              </div>\n            </td>`\n          )).join('')}</tr>`\n        )).join('') : ''}\n      </tbody>\n    `\n    calendarPanelEl.append(navigationElement, calendarTable)\n\n    return calendarPanelEl\n  }\n\n  _createCalendar() {\n    const calendarsEl = document.createElement('div')\n    calendarsEl.classList.add('calendars')\n    // eslint-disable-next-line no-unused-vars\n    for (const [index, _] of Array.from({ length: this._config.calendars }).entries()) {\n(\n      calendarsEl.append(this._createCalendarPanel(index))\n    )\n}\n\n    this._element.classList.add(CLASS_NAME_CALENDAR)\n    this._element.append(calendarsEl)\n  }\n\n  _updateCalendar() {\n    this._element.innerHTML = ''\n    this._createCalendarPanel()\n  }\n\n  _dayClassNames(date, month) {\n    const classNames = {\n      today: isToday(date),\n      disabled: isDateDisabled(date, this._config.minDate, this._config.maxDate, this._config.disabledDates),\n      [month]: true,\n      last: isLastDayOfMonth(date),\n      range: month === 'current' && isDateInRange(date, this._startDate, this._endDate),\n      'range-hover': month === 'current' && (this._hoverDate && this._selectEndDate ?\n        isDateInRange(date, this._startDate, this._hoverDate) :\n        isDateInRange(date, this._hoverDate, this._endDate)),\n      selected: isDateSelected(date, this._startDate, this._endDate),\n      start: isStartDate(date, this._startDate, this._endDate),\n      end: isEndDate(date, this._startDate, this._endDate)\n    }\n\n    // eslint-disable-next-line unicorn/no-array-reduce\n    const result = Object.keys(classNames).reduce((o, key) => {\n      // eslint-disable-next-line no-unused-expressions\n      classNames[key] === true && (o[key] = classNames[key])\n      return o\n    }, {})\n\n    return Object.keys(result).join(' ')\n  }\n\n  _getConfig(config) {\n    config = {\n      ...this.constructor.Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...config\n    }\n\n    return config\n  }\n\n  // Static\n\n  static calendarInterface(element, config) {\n    const data = Calendar.getOrCreateInstance(element, config)\n\n    if (typeof config === 'string') {\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    }\n  }\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Calendar.getOrCreateInstance(this)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n* ------------------------------------------------------------------------\n* Data Api implementation\n* ------------------------------------------------------------------------\n*/\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of Array.from(document.querySelectorAll(SELECTOR_CALENDAR))) {\n    Calendar.calendarInterface(element)\n  }\n})\n\n/**\n* ------------------------------------------------------------------------\n* jQuery\n* ------------------------------------------------------------------------\n* add .Calendar to jQuery only if jQuery is present\n*/\n\ndefineJQueryPlugin(Calendar)\n\nexport default Calendar\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_CALENDAR_DATE_CHANGE","EVENT_CELL_HOVER","EVENT_END_DATE_CHANGE","EVENT_LOAD_DATA_API","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_START_DATE_CHANGE","CLASS_NAME_CALENDAR","SELECTOR_CALENDAR","SELECTOR_CALENDAR_CELL_INNER","Default","calendarDate","Date","calendars","disabledDates","endDate","firstDayOfWeek","locale","maxDate","minDate","range","startDate","selectEndDate","weekdayFormat","DefaultType","Calendar","BaseComponent","constructor","element","config","_config","_getConfig","_calendarDate","_startDate","_endDate","_hoverDate","_selectEndDate","_view","_createCalendar","_addEventListeners","EventHandler","on","_element","event","preventDefault","target","classList","contains","_selectDate","Manipulator","getDataAttribute","_setCalendarDate","getFullYear","getMonth","_updateCalendar","parentElement","trigger","date","_modifyCalendarDate","innerHTML","_createCalendarPanel","years","months","year","month","d","setFullYear","setMonth","_setEndDate","_setStartDate","isDateDisabled","addMonths","calendarPanelEl","document","createElement","add","navigationElement","toLocaleDateString","monthDetails","getMonthDetails","listOfMonths","createGroupsInArray","getMonthsNames","listOfYears","getYears","weekDays","calendarTable","map","weekday","slice","join","week","_dayClassNames","day","row","index","idx","append","calendarsEl","_","Array","from","length","entries","classNames","today","isToday","disabled","last","isLastDayOfMonth","isDateInRange","selected","isDateSelected","start","isStartDate","end","isEndDate","result","Object","keys","reduce","o","key","getDataAttributes","calendarInterface","data","getOrCreateInstance","TypeError","jQueryInterface","each","undefined","startsWith","window","querySelectorAll","defineJQueryPlugin"],"mappings":";;;;;;;;;;;;;;;;;EAAA;EAyBA;EACA;EACA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,UAAb,CAAA;EACA,MAAMC,QAAQ,GAAG,iBAAjB,CAAA;EACA,MAAMC,SAAS,GAAI,CAAGD,CAAAA,EAAAA,QAAS,CAA/B,CAAA,CAAA;EACA,MAAME,YAAY,GAAG,WAArB,CAAA;EAEA,MAAMC,0BAA0B,GAAI,CAAoBF,kBAAAA,EAAAA,SAAU,CAAlE,CAAA,CAAA;EACA,MAAMG,gBAAgB,GAAI,CAAWH,SAAAA,EAAAA,SAAU,CAA/C,CAAA,CAAA;EACA,MAAMI,qBAAqB,GAAI,CAAeJ,aAAAA,EAAAA,SAAU,CAAxD,CAAA,CAAA;EACA,MAAMK,mBAAmB,GAAI,CAAA,IAAA,EAAML,SAAU,CAAA,EAAEC,YAAa,CAA5D,CAAA,CAAA;EACA,MAAMK,gBAAgB,GAAI,CAAYN,UAAAA,EAAAA,SAAU,CAAhD,CAAA,CAAA;EACA,MAAMO,gBAAgB,GAAI,CAAYP,UAAAA,EAAAA,SAAU,CAAhD,CAAA,CAAA;EACA,MAAMQ,uBAAuB,GAAI,CAAiBR,eAAAA,EAAAA,SAAU,CAA5D,CAAA,CAAA;EAEA,MAAMS,mBAAmB,GAAG,UAA5B,CAAA;EAEA,MAAMC,iBAAiB,GAAG,WAA1B,CAAA;EACA,MAAMC,4BAA4B,GAAG,sBAArC,CAAA;EAEA,MAAMC,OAAO,GAAG;IACdC,YAAY,EAAE,IAAIC,IAAJ,EADA;EAEdC,EAAAA,SAAS,EAAE,CAFG;EAGdC,EAAAA,aAAa,EAAE,IAHD;EAIdC,EAAAA,OAAO,EAAE,IAJK;EAKdC,EAAAA,cAAc,EAAE,CALF;EAMdC,EAAAA,MAAM,EAAE,SANM;EAOdC,EAAAA,OAAO,EAAE,IAPK;EAQdC,EAAAA,OAAO,EAAE,IARK;EASdC,EAAAA,KAAK,EAAE,IATO;EAUdC,EAAAA,SAAS,EAAE,IAVG;EAWdC,EAAAA,aAAa,EAAE,KAXD;EAYdC,EAAAA,aAAa,EAAE,CAAA;EAZD,CAAhB,CAAA;EAeA,MAAMC,WAAW,GAAG;EAClBb,EAAAA,YAAY,EAAE,oBADI;EAElBE,EAAAA,SAAS,EAAE,QAFO;EAGlBC,EAAAA,aAAa,EAAE,cAHG;EAIlBC,EAAAA,OAAO,EAAE,oBAJS;EAKlBC,EAAAA,cAAc,EAAE,QALE;EAMlBC,EAAAA,MAAM,EAAE,QANU;EAOlBC,EAAAA,OAAO,EAAE,oBAPS;EAQlBC,EAAAA,OAAO,EAAE,oBARS;EASlBC,EAAAA,KAAK,EAAE,SATW;EAUlBC,EAAAA,SAAS,EAAE,oBAVO;EAWlBC,EAAAA,aAAa,EAAE,SAXG;EAYlBC,EAAAA,aAAa,EAAE,iBAAA;EAZG,CAApB,CAAA;EAeA;EACA;EACA;EACA;EACA;;EAEA,MAAME,QAAN,SAAuBC,8BAAvB,CAAqC;EACnCC,EAAAA,WAAW,CAACC,OAAD,EAAUC,MAAV,EAAkB;EAC3B,IAAA,KAAA,CAAMD,OAAN,CAAA,CAAA;EAEA,IAAA,IAAA,CAAKE,OAAL,GAAe,IAAA,CAAKC,UAAL,CAAgBF,MAAhB,CAAf,CAAA;EACA,IAAA,IAAA,CAAKG,aAAL,GAAqB,IAAKF,CAAAA,OAAL,CAAanB,YAAlC,CAAA;EACA,IAAA,IAAA,CAAKsB,UAAL,GAAkB,IAAKH,CAAAA,OAAL,CAAaT,SAA/B,CAAA;EACA,IAAA,IAAA,CAAKa,QAAL,GAAgB,IAAKJ,CAAAA,OAAL,CAAaf,OAA7B,CAAA;MACA,IAAKoB,CAAAA,UAAL,GAAkB,IAAlB,CAAA;EACA,IAAA,IAAA,CAAKC,cAAL,GAAsB,IAAKN,CAAAA,OAAL,CAAaR,aAAnC,CAAA;MACA,IAAKe,CAAAA,KAAL,GAAa,MAAb,CAAA;;EAEA,IAAA,IAAA,CAAKC,eAAL,EAAA,CAAA;;EACA,IAAA,IAAA,CAAKC,kBAAL,EAAA,CAAA;EACD,GAdkC;;;EAiBjB,EAAA,WAAP7B,OAAO,GAAG;EACnB,IAAA,OAAOA,OAAP,CAAA;EACD,GAAA;;EAEqB,EAAA,WAAXc,WAAW,GAAG;EACvB,IAAA,OAAOA,WAAP,CAAA;EACD,GAAA;;EAEc,EAAA,WAAJ5B,IAAI,GAAG;EAChB,IAAA,OAAOA,IAAP,CAAA;EACD,GA3BkC;;;EA8BnC2C,EAAAA,kBAAkB,GAAG;MACnBC,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwCjC,4BAAxC,EAAsEkC,KAAK,IAAI;EAC7EA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;;QACA,IAAID,KAAK,CAACE,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,KAAhC,CAAJ,EAA4C;UAC1C,IAAKC,CAAAA,WAAL,CAAiBC,4BAAW,CAACC,gBAAZ,CAA6BP,KAAK,CAACE,MAAnC,EAA2C,MAA3C,CAAjB,CAAA,CAAA;EACD,OAAA;;QAED,IAAIF,KAAK,CAACE,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,OAAhC,CAAJ,EAA8C;UAC5C,IAAKI,CAAAA,gBAAL,CAAsB,IAAIvC,IAAJ,CAAS,IAAKoB,CAAAA,aAAL,CAAmBoB,WAAnB,EAAT,EAA2CH,4BAAW,CAACC,gBAAZ,CAA6BP,KAAK,CAACE,MAAnC,EAA2C,OAA3C,CAA3C,EAAgG,CAAhG,CAAtB,CAAA,CAAA;;UACA,IAAKR,CAAAA,KAAL,GAAa,MAAb,CAAA;EACD,OAAA;;QAED,IAAIM,KAAK,CAACE,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,MAAhC,CAAJ,EAA6C;UAC3C,IAAKf,CAAAA,aAAL,GAAqB,IAAIpB,IAAJ,CAASqC,4BAAW,CAACC,gBAAZ,CAA6BP,KAAK,CAACE,MAAnC,EAA2C,MAA3C,CAAT,EAA6D,IAAKb,CAAAA,aAAL,CAAmBqB,QAAnB,EAA7D,EAA4F,CAA5F,CAArB,CAAA;UACA,IAAKhB,CAAAA,KAAL,GAAa,QAAb,CAAA;EACD,OAAA;;EAED,MAAA,IAAA,CAAKiB,eAAL,EAAA,CAAA;OAhBF,CAAA,CAAA;MAmBAd,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+BtC,gBAA/B,EAAiDK,4BAAjD,EAA+EkC,KAAK,IAAI;EACtFA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;;EACA,MAAA,IAAID,KAAK,CAACE,MAAN,CAAaU,aAAb,CAA2BT,SAA3B,CAAqCC,QAArC,CAA8C,UAA9C,CAAJ,EAA+D;EAC7D,QAAA,OAAA;EACD,OAAA;;EAED,MAAA,IAAA,CAAKZ,UAAL,GAAkB,IAAIvB,IAAJ,CAASqC,4BAAW,CAACC,gBAAZ,CAA6BP,KAAK,CAACE,MAAnC,EAA2C,MAA3C,CAAT,CAAlB,CAAA;EAEAL,MAAAA,6BAAY,CAACgB,OAAb,CAAqB,KAAKd,QAA1B,EAAoCzC,gBAApC,EAAsD;EACpDwD,QAAAA,IAAI,EAAE,IAAI7C,IAAJ,CAASqC,4BAAW,CAACC,gBAAZ,CAA6BP,KAAK,CAACE,MAAnC,EAA2C,MAA3C,CAAT,CAAA;SADR,CAAA,CAAA;OARF,CAAA,CAAA;MAaAL,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+BrC,gBAA/B,EAAiDI,4BAAjD,EAA+EkC,KAAK,IAAI;EACtFA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;QAEA,IAAKT,CAAAA,UAAL,GAAkB,IAAlB,CAAA;EAEAK,MAAAA,6BAAY,CAACgB,OAAb,CAAqB,KAAKd,QAA1B,EAAoCzC,gBAApC,EAAsD;EACpDwD,QAAAA,IAAI,EAAE,IAAA;SADR,CAAA,CAAA;EAGD,KARD,EAjCmB;;MA4CnBjB,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwC,WAAxC,EAAqDC,KAAK,IAAI;EAC5DA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;;EACA,MAAA,IAAA,CAAKc,mBAAL,CAAyB,CAAzB,EAA4B,CAAC,CAA7B,CAAA,CAAA;OAFF,CAAA,CAAA;MAKAlB,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwC,kBAAxC,EAA4DC,KAAK,IAAI;EACnEA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;;QACA,IAAKc,CAAAA,mBAAL,CAAyB,IAAA,CAAKrB,KAAL,KAAe,OAAf,GAAyB,CAAC,EAA1B,GAA+B,CAAC,CAAzD,CAAA,CAAA;OAFF,CAAA,CAAA;MAKAG,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwC,WAAxC,EAAqDC,KAAK,IAAI;EAC5DA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;;EACA,MAAA,IAAA,CAAKc,mBAAL,CAAyB,CAAzB,EAA4B,CAA5B,CAAA,CAAA;OAFF,CAAA,CAAA;MAKAlB,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwC,kBAAxC,EAA4DC,KAAK,IAAI;EACnEA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;;QACA,IAAKc,CAAAA,mBAAL,CAAyB,IAAKrB,CAAAA,KAAL,KAAe,OAAf,GAAyB,EAAzB,GAA8B,CAAvD,CAAA,CAAA;OAFF,CAAA,CAAA;MAKAG,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwC,YAAxC,EAAsDC,KAAK,IAAI;EAC7DA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;QACA,IAAKP,CAAAA,KAAL,GAAa,QAAb,CAAA;EACA,MAAA,IAAA,CAAKK,QAAL,CAAciB,SAAd,GAA0B,EAA1B,CAAA;;EACA,MAAA,IAAA,CAAKC,oBAAL,EAAA,CAAA;OAJF,CAAA,CAAA;MAOApB,6BAAY,CAACC,EAAb,CAAgB,IAAKC,CAAAA,QAArB,EAA+B,OAA/B,EAAwC,WAAxC,EAAqDC,KAAK,IAAI;EAC5DA,MAAAA,KAAK,CAACC,cAAN,EAAA,CAAA;QACA,IAAKP,CAAAA,KAAL,GAAa,OAAb,CAAA;EACA,MAAA,IAAA,CAAKK,QAAL,CAAciB,SAAd,GAA0B,EAA1B,CAAA;;EACA,MAAA,IAAA,CAAKC,oBAAL,EAAA,CAAA;OAJF,CAAA,CAAA;EAMD,GAAA;;IAEDT,gBAAgB,CAACM,IAAD,EAAO;MACrB,IAAKzB,CAAAA,aAAL,GAAqByB,IAArB,CAAA;EAEAjB,IAAAA,6BAAY,CAACgB,OAAb,CAAqB,KAAKd,QAA1B,EAAoC1C,0BAApC,EAAgE;EAC9DyD,MAAAA,IAAAA;OADF,CAAA,CAAA;EAGD,GAAA;;EAEDC,EAAAA,mBAAmB,CAACG,KAAD,EAAQC,MAAM,GAAG,CAAjB,EAAoB;EACrC,IAAA,MAAMC,IAAI,GAAG,IAAA,CAAK/B,aAAL,CAAmBoB,WAAnB,EAAb,CAAA;;EACA,IAAA,MAAMY,KAAK,GAAG,IAAA,CAAKhC,aAAL,CAAmBqB,QAAnB,EAAd,CAAA;;MACA,MAAMY,CAAC,GAAG,IAAIrD,IAAJ,CAASmD,IAAT,EAAeC,KAAf,EAAsB,CAAtB,CAAV,CAAA;;EAEA,IAAA,IAAIH,KAAJ,EAAW;EACTI,MAAAA,CAAC,CAACC,WAAF,CAAcD,CAAC,CAACb,WAAF,KAAkBS,KAAhC,CAAA,CAAA;EACD,KAAA;;EAED,IAAA,IAAIC,MAAJ,EAAY;EACVG,MAAAA,CAAC,CAACE,QAAF,CAAWF,CAAC,CAACZ,QAAF,KAAeS,MAA1B,CAAA,CAAA;EACD,KAAA;;MAED,IAAK9B,CAAAA,aAAL,GAAqBiC,CAArB,CAAA;;EAEA,IAAA,IAAI,IAAK5B,CAAAA,KAAL,KAAe,MAAnB,EAA2B;EACzBG,MAAAA,6BAAY,CAACgB,OAAb,CAAqB,KAAKd,QAA1B,EAAoC1C,0BAApC,EAAgE;EAC9DyD,QAAAA,IAAI,EAAEQ,CAAAA;SADR,CAAA,CAAA;EAGD,KAAA;;EAED,IAAA,IAAA,CAAKX,eAAL,EAAA,CAAA;EACD,GAAA;;EAEDc,EAAAA,WAAW,CAACX,IAAD,EAAOnC,aAAa,GAAG,KAAvB,EAA8B;EACvC,IAAA,IAAA,CAAKY,QAAL,GAAgB,IAAItB,IAAJ,CAAS6C,IAAT,CAAhB,CAAA;EACAjB,IAAAA,6BAAY,CAACgB,OAAb,CAAqB,KAAKd,QAA1B,EAAoCxC,qBAApC,EAA2D;QACzDuD,IAAI,EAAE,KAAKvB,QAD8C;EAEzDZ,MAAAA,aAAAA;OAFF,CAAA,CAAA;EAID,GAAA;;EAED+C,EAAAA,aAAa,CAACZ,IAAD,EAAOnC,aAAa,GAAG,IAAvB,EAA6B;EACxC,IAAA,IAAA,CAAKW,UAAL,GAAkB,IAAIrB,IAAJ,CAAS6C,IAAT,CAAlB,CAAA;EACAjB,IAAAA,6BAAY,CAACgB,OAAb,CAAqB,KAAKd,QAA1B,EAAoCpC,uBAApC,EAA6D;QAC3DmD,IAAI,EAAE,KAAKxB,UADgD;EAE3DX,MAAAA,aAAAA;OAFF,CAAA,CAAA;EAID,GAAA;;IAED0B,WAAW,CAACS,IAAD,EAAO;EAChB,IAAA,IAAIa,uBAAc,CAACb,IAAD,EAAO,IAAK3B,CAAAA,OAAL,CAAaX,OAApB,EAA6B,KAAKW,OAAL,CAAaZ,OAA1C,EAAmD,IAAA,CAAKY,OAAL,CAAahB,aAAhE,CAAlB,EAAkG;EAChG,MAAA,OAAA;EACD,KAAA;;EAED,IAAA,IAAI,IAAKgB,CAAAA,OAAL,CAAaV,KAAjB,EAAwB;QACtB,IAAI,IAAA,CAAKgB,cAAT,EAAyB;UACvB,IAAI,IAAA,CAAKH,UAAL,IAAmB,IAAKA,CAAAA,UAAL,GAAkB,IAAIrB,IAAJ,CAAS6C,IAAT,CAAzC,EAAyD;YACvD,IAAKW,CAAAA,WAAL,CAAiB,IAAA,CAAKnC,UAAtB,CAAA,CAAA;;YACA,IAAKoC,CAAAA,aAAL,CAAmBZ,IAAnB,CAAA,CAAA;EACD,SAHD,MAGO;YACL,IAAKW,CAAAA,WAAL,CAAiBX,IAAjB,CAAA,CAAA;EACD,SAAA;EACF,OAPD,MAOO;EACL,QAAA,IAAA,CAAKY,aAAL,CAAmBZ,IAAnB,EAAyB,IAAzB,CAAA,CAAA;EACD,OAAA;EACF,KAXD,MAWO;QACL,IAAKY,CAAAA,aAAL,CAAmBZ,IAAnB,CAAA,CAAA;EACD,KAAA;EACF,GAAA;;IAEDG,oBAAoB,CAACW,SAAD,EAAY;MAC9B,IAAId,IAAI,GAAG,IAAA,CAAKzB,aAAhB,CAAA;;MAEA,IAAIuC,SAAS,KAAK,CAAlB,EAAqB;EACnBd,MAAAA,IAAI,GAAG,IAAI7C,IAAJ,CAAS,IAAKoB,CAAAA,aAAL,CAAmBoB,WAAnB,EAAT,EAA2C,IAAA,CAAKpB,aAAL,CAAmBqB,QAAnB,KAAgCkB,SAA3E,EAAsF,CAAtF,CAAP,CAAA;EACD,KAAA;;EAED,IAAA,MAAMR,IAAI,GAAGN,IAAI,CAACL,WAAL,EAAb,CAAA;EACA,IAAA,MAAMY,KAAK,GAAGP,IAAI,CAACJ,QAAL,EAAd,CAAA;EAEA,IAAA,MAAMmB,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB,CAAA;EACAF,IAAAA,eAAe,CAAC1B,SAAhB,CAA0B6B,GAA1B,CAA8B,gBAA9B,EAX8B;;EAc9B,IAAA,MAAMC,iBAAiB,GAAGH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA1B,CAAA;EACAE,IAAAA,iBAAiB,CAAC9B,SAAlB,CAA4B6B,GAA5B,CAAgC,cAAhC,CAAA,CAAA;MACAC,iBAAiB,CAACjB,SAAlB,GAA+B,CAAA;AACnC;AACA;AACA;AACA;AACA,QAAA,EAAU,IAAKtB,CAAAA,KAAL,KAAe,MAAf,GAAyB,CAAA;AACnC;AACA,iBAAA,CAFU,GAEW,EAAG,CAAA;AACxB;AACA;AACA;AACA,UAAYoB,EAAAA,IAAI,CAACoB,kBAAL,CAAwB,KAAK/C,OAAL,CAAab,MAArC,EAA6C;AAAE+C,MAAAA,KAAK,EAAE,MAAA;AAAT,KAA7C,CAAgE,CAAA;AAC5E;AACA;AACA,UAAYP,EAAAA,IAAI,CAACoB,kBAAL,CAAwB,KAAK/C,OAAL,CAAab,MAArC,EAA6C;AAAE8C,MAAAA,IAAI,EAAE,SAAA;AAAR,KAA7C,CAAkE,CAAA;AAC9E;AACA;AACA;AACA,QAAA,EAAU,IAAK1B,CAAAA,KAAL,KAAe,MAAf,GAAyB,CAAA;AACnC;AACA,iBAAA,CAFU,GAEW,EAAG,CAAA;AACxB;AACA;AACA;AACA;AACA,IAzBI,CAAA,CAAA;EA2BA,IAAA,MAAMyC,YAAY,GAAGC,wBAAe,CAAChB,IAAD,EAAOC,KAAP,EAAc,IAAKlC,CAAAA,OAAL,CAAad,cAA3B,CAApC,CAAA;EACA,IAAA,MAAMgE,YAAY,GAAGC,4BAAmB,CAACC,uBAAc,CAAC,IAAKpD,CAAAA,OAAL,CAAab,MAAd,CAAf,EAAsC,CAAtC,CAAxC,CAAA;EACA,IAAA,MAAMkE,WAAW,GAAGF,4BAAmB,CAACG,iBAAQ,CAAC3B,IAAI,CAACL,WAAL,EAAD,CAAT,EAA+B,CAA/B,CAAvC,CAAA;EACA,IAAA,MAAMiC,QAAQ,GAAGP,YAAY,CAAC,CAAD,CAA7B,CAAA;EAEA,IAAA,MAAMQ,aAAa,GAAGb,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAtB,CAAA;MACAY,aAAa,CAAC3B,SAAd,GAA2B,CAAA;AAC/B,IAAA,EAAM,IAAKtB,CAAAA,KAAL,KAAe,MAAf,GAAyB,CAAA;AAC/B;AACA;AACA,UAAA,EAAYgD,QAAQ,CAACE,GAAT,CAAa,CAAC;AAAE9B,MAAAA,IAAAA;AAAF,KAAD,KACZ,CAAA;AACb;AACA,cAAA,EAAgB,OAAO,IAAK3B,CAAAA,OAAL,CAAaP,aAApB,KAAsC,QAAtC,GACFkC,IAAI,CAACoB,kBAAL,CAAwB,IAAA,CAAK/C,OAAL,CAAab,MAArC,EAA6C;MAAEuE,OAAO,EAAE,IAAK1D,CAAAA,OAAL,CAAaP,aAAAA;KAArE,CADE,GAEFkC,IAAI,CACCoB,kBADL,CACwB,IAAK/C,CAAAA,OAAL,CAAab,MADrC,EAC6C;AAAEuE,MAAAA,OAAO,EAAE,MAAA;KADxD,CAAA,CAEKC,KAFL,CAEW,CAFX,EAEc,IAAK3D,CAAAA,OAAL,CAAaP,aAF3B,CAE0C,CAAA;AACxD;AACA,iBAAA,CATY,CAUCmE,CAAAA,IAVD,CAUM,EAVN,CAUU,CAAA;AACtB;AACA,cAAA,CAfM,GAeY,EAAG,CAAA;AACrB;AACA,QAAA,EAAU,KAAKrD,KAAL,KAAe,MAAf,GAAwByC,YAAY,CAACS,GAAb,CAAiBI,IAAI,IAC5C,CAAMA,IAAAA,EAAAA,IAAI,CAACJ,GAAL,CAAS,CAAC;MAAE9B,IAAF;AAAQO,MAAAA,KAAAA;KAAT,KACb,4BAA2B,IAAK4B,CAAAA,cAAL,CAAoBnC,IAApB,EAA0BO,KAA1B,CAAiC,CAAA;AACzE,qEAAA,EAAuEP,IAAK,CAAA;AAC5E,gBAAkBA,EAAAA,IAAI,CAACoB,kBAAL,CAAwB,KAAK/C,OAAL,CAAab,MAArC,EAA6C;AAAE4E,MAAAA,GAAG,EAAE,SAAA;AAAP,KAA7C,CAAiE,CAAA;AACnF;AACA,iBAAA,CALiB,CAMJH,CAAAA,IANI,CAMC,EAND,CAMK,CAAA,KAAA,CAPY,CAQvBA,CAAAA,IARuB,CAQlB,EARkB,CAAxB,GAQY,EAAG,CAAA;AACzB,QAAU,EAAA,IAAA,CAAKrD,KAAL,KAAe,QAAf,GAA0B2C,YAAY,CAACO,GAAb,CAAiB,CAACO,GAAD,EAAMC,KAAN,KAC1C,CAAMD,IAAAA,EAAAA,GAAG,CAACP,GAAJ,CAAQ,CAACvB,KAAD,EAAQgC,GAAR,KACZ,CAAA;AACb,wEAAA,EAA2ED,KAAK,GAAG,CAAT,GAAcC,GAAd,GAAoBzB,SAAU,CAAA;AACxG,gBAAA,EAAkBP,KAAM,CAAA;AACxB;AACA,iBAAA,CALiB,CAMJ0B,CAAAA,IANI,CAMC,EAND,CAMK,CAAA,KAAA,CAPc,CAQzBA,CAAAA,IARyB,CAQpB,EARoB,CAA1B,GAQY,EAAG,CAAA;AACzB,QAAA,EAAU,KAAKrD,KAAL,KAAe,OAAf,GAAyB8C,WAAW,CAACI,GAAZ,CAAgBO,GAAG,IAC3C,CAAMA,IAAAA,EAAAA,GAAG,CAACP,GAAJ,CAAQxB,IAAI,IAChB,CAAA;AACb,sEAAA,EAAwEA,IAAK,CAAA;AAC7E,gBAAA,EAAkBA,IAAK,CAAA;AACvB;AACA,iBAAA,CALiB,CAMJ2B,CAAAA,IANI,CAMC,EAND,CAMK,CAAA,KAAA,CAPa,CAQxBA,CAAAA,IARwB,CAQnB,EARmB,CAAzB,GAQY,EAAG,CAAA;AACzB;AACA,IA9CI,CAAA,CAAA;EA+CAlB,IAAAA,eAAe,CAACyB,MAAhB,CAAuBrB,iBAAvB,EAA0CU,aAA1C,CAAA,CAAA;EAEA,IAAA,OAAOd,eAAP,CAAA;EACD,GAAA;;EAEDlC,EAAAA,eAAe,GAAG;EAChB,IAAA,MAAM4D,WAAW,GAAGzB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB,CAAA;EACAwB,IAAAA,WAAW,CAACpD,SAAZ,CAAsB6B,GAAtB,CAA0B,WAA1B,EAFgB;;MAIhB,KAAK,MAAM,CAACoB,KAAD,EAAQI,CAAR,CAAX,IAAyBC,KAAK,CAACC,IAAN,CAAW;QAAEC,MAAM,EAAE,IAAKxE,CAAAA,OAAL,CAAajB,SAAAA;OAAlC,CAAA,CAA+C0F,OAA/C,EAAzB,EAAmF;QAEjFL,WAAW,CAACD,MAAZ,CAAmB,IAAA,CAAKrC,oBAAL,CAA0BmC,KAA1B,CAAnB,CADN,CAAA;EAGC,KAAA;;EAEG,IAAA,IAAA,CAAKrD,QAAL,CAAcI,SAAd,CAAwB6B,GAAxB,CAA4BpE,mBAA5B,CAAA,CAAA;;EACA,IAAA,IAAA,CAAKmC,QAAL,CAAcuD,MAAd,CAAqBC,WAArB,CAAA,CAAA;EACD,GAAA;;EAED5C,EAAAA,eAAe,GAAG;EAChB,IAAA,IAAA,CAAKZ,QAAL,CAAciB,SAAd,GAA0B,EAA1B,CAAA;;EACA,IAAA,IAAA,CAAKC,oBAAL,EAAA,CAAA;EACD,GAAA;;EAEDgC,EAAAA,cAAc,CAACnC,IAAD,EAAOO,KAAP,EAAc;EAC1B,IAAA,MAAMwC,UAAU,GAAG;EACjBC,MAAAA,KAAK,EAAEC,gBAAO,CAACjD,IAAD,CADG;EAEjBkD,MAAAA,QAAQ,EAAErC,uBAAc,CAACb,IAAD,EAAO,IAAA,CAAK3B,OAAL,CAAaX,OAApB,EAA6B,IAAKW,CAAAA,OAAL,CAAaZ,OAA1C,EAAmD,KAAKY,OAAL,CAAahB,aAAhE,CAFP;QAGjB,CAACkD,KAAD,GAAS,IAHQ;EAIjB4C,MAAAA,IAAI,EAAEC,yBAAgB,CAACpD,IAAD,CAJL;EAKjBrC,MAAAA,KAAK,EAAE4C,KAAK,KAAK,SAAV,IAAuB8C,sBAAa,CAACrD,IAAD,EAAO,IAAKxB,CAAAA,UAAZ,EAAwB,IAAA,CAAKC,QAA7B,CAL1B;EAMjB,MAAA,aAAA,EAAe8B,KAAK,KAAK,SAAV,KAAwB,IAAK7B,CAAAA,UAAL,IAAmB,IAAA,CAAKC,cAAxB,GACrC0E,sBAAa,CAACrD,IAAD,EAAO,IAAA,CAAKxB,UAAZ,EAAwB,IAAKE,CAAAA,UAA7B,CADwB,GAErC2E,sBAAa,CAACrD,IAAD,EAAO,IAAA,CAAKtB,UAAZ,EAAwB,IAAKD,CAAAA,QAA7B,CAFA,CANE;QASjB6E,QAAQ,EAAEC,uBAAc,CAACvD,IAAD,EAAO,KAAKxB,UAAZ,EAAwB,IAAKC,CAAAA,QAA7B,CATP;QAUjB+E,KAAK,EAAEC,oBAAW,CAACzD,IAAD,EAAO,KAAKxB,UAAZ,EAAwB,IAAKC,CAAAA,QAA7B,CAVD;QAWjBiF,GAAG,EAAEC,kBAAS,CAAC3D,IAAD,EAAO,IAAKxB,CAAAA,UAAZ,EAAwB,IAAA,CAAKC,QAA7B,CAAA;EAXG,KAAnB,CAD0B;;EAgB1B,IAAA,MAAMmF,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYf,UAAZ,CAAwBgB,CAAAA,MAAxB,CAA+B,CAACC,CAAD,EAAIC,GAAJ,KAAY;EACxD;EACAlB,MAAAA,UAAU,CAACkB,GAAD,CAAV,KAAoB,IAApB,KAA6BD,CAAC,CAACC,GAAD,CAAD,GAASlB,UAAU,CAACkB,GAAD,CAAhD,CAAA,CAAA;EACA,MAAA,OAAOD,CAAP,CAAA;OAHa,EAIZ,EAJY,CAAf,CAAA;MAMA,OAAOH,MAAM,CAACC,IAAP,CAAYF,MAAZ,CAAoB3B,CAAAA,IAApB,CAAyB,GAAzB,CAAP,CAAA;EACD,GAAA;;IAED3D,UAAU,CAACF,MAAD,EAAS;EACjBA,IAAAA,MAAM,GAAG,EACP,GAAG,IAAKF,CAAAA,WAAL,CAAiBjB,OADb;EAEP,MAAA,GAAGuC,4BAAW,CAAC0E,iBAAZ,CAA8B,IAAA,CAAKjF,QAAnC,CAFI;QAGP,GAAGb,MAAAA;OAHL,CAAA;EAMA,IAAA,OAAOA,MAAP,CAAA;EACD,GA3UkC;;;EA+UX,EAAA,OAAjB+F,iBAAiB,CAAChG,OAAD,EAAUC,MAAV,EAAkB;MACxC,MAAMgG,IAAI,GAAGpG,QAAQ,CAACqG,mBAAT,CAA6BlG,OAA7B,EAAsCC,MAAtC,CAAb,CAAA;;EAEA,IAAA,IAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;EAC9B,MAAA,IAAI,OAAOgG,IAAI,CAAChG,MAAD,CAAX,KAAwB,WAA5B,EAAyC;EACvC,QAAA,MAAM,IAAIkG,SAAJ,CAAe,CAAmBlG,iBAAAA,EAAAA,MAAO,GAAzC,CAAN,CAAA;EACD,OAAA;;QAEDgG,IAAI,CAAChG,MAAD,CAAJ,EAAA,CAAA;EACD,KAAA;EACF,GAAA;;IAEqB,OAAfmG,eAAe,CAACnG,MAAD,EAAS;MAC7B,OAAO,IAAA,CAAKoG,IAAL,CAAU,YAAY;EAC3B,MAAA,MAAMJ,IAAI,GAAGpG,QAAQ,CAACqG,mBAAT,CAA6B,IAA7B,CAAb,CAAA;;EAEA,MAAA,IAAI,OAAOjG,MAAP,KAAkB,QAAtB,EAAgC;EAC9B,QAAA,OAAA;EACD,OAAA;;EAED,MAAA,IAAIgG,IAAI,CAAChG,MAAD,CAAJ,KAAiBqG,SAAjB,IAA8BrG,MAAM,CAACsG,UAAP,CAAkB,GAAlB,CAA9B,IAAwDtG,MAAM,KAAK,aAAvE,EAAsF;EACpF,QAAA,MAAM,IAAIkG,SAAJ,CAAe,CAAmBlG,iBAAAA,EAAAA,MAAO,GAAzC,CAAN,CAAA;EACD,OAAA;;EAEDgG,MAAAA,IAAI,CAAChG,MAAD,CAAJ,CAAa,IAAb,CAAA,CAAA;EACD,KAZM,CAAP,CAAA;EAaD,GAAA;;EAzWkC,CAAA;EA4WrC;EACA;EACA;EACA;EACA;;;AAEAW,+BAAY,CAACC,EAAb,CAAgB2F,MAAhB,EAAwBjI,mBAAxB,EAA6C,MAAM;EACjD,EAAA,KAAK,MAAMyB,OAAX,IAAsBwE,KAAK,CAACC,IAAN,CAAW5B,QAAQ,CAAC4D,gBAAT,CAA0B7H,iBAA1B,CAAX,CAAtB,EAAgF;MAC9EiB,QAAQ,CAACmG,iBAAT,CAA2BhG,OAA3B,CAAA,CAAA;EACD,GAAA;EACF,CAJD,CAAA,CAAA;EAMA;EACA;EACA;EACA;EACA;EACA;;AAEA0G,0BAAkB,CAAC7G,QAAD,CAAlB;;;;;;;;"}