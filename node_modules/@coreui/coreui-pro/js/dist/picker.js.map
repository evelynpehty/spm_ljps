{"version":3,"file":"picker.js","sources":["../src/picker.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI PRO (v4.3.4): picker.js\n * License (https://coreui.io/pro/license-new/)\n * --------------------------------------------------------------------------\n */\n\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport BaseComponent from './base-component'\nimport Dropdown from './dropdown'\n\n/**\n* ------------------------------------------------------------------------\n* Constants\n* ------------------------------------------------------------------------\n*/\n\nconst NAME = 'picker'\nconst DATA_KEY = 'coreui.picker'\nconst EVENT_KEY = `.${DATA_KEY}`\n\nconst EVENT_CANCEL = `onCancelClick${EVENT_KEY}`\n\nconst Default = {\n  cancelButton: 'Cancel',\n  cancelButtonClasses: ['btn', 'btn-sm', 'btn-ghost-primary'],\n  confirmButton: 'OK',\n  confirmButtonClasses: ['btn', 'btn-sm', 'btn-primary'],\n  container: 'dropdown',\n  disabled: false,\n  footer: false\n}\n\nconst DefaultType = {\n  cancelButton: '(boolean|string)',\n  cancelButtonClasses: '(array|string)',\n  confirmButton: '(boolean|string)',\n  confirmButtonClasses: '(array|string)',\n  container: 'string',\n  disabled: 'boolean',\n  footer: 'boolean'\n}\n\n/**\n* ------------------------------------------------------------------------\n* Class Definition\n* ------------------------------------------------------------------------\n*/\n\nclass Picker extends BaseComponent {\n  constructor(element, config) {\n    super(element)\n\n    this._config = this._getConfig(config)\n    this._dropdown = null\n\n    //\n    this._dropdownEl = null\n    this._dropdownMenuEl = null\n    this._dropdownToggleEl = null\n\n    this._createPicker()\n  }\n  // Getters\n\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  _getButtonClasses(classes) {\n    if (typeof classes === 'string') {\n      return classes.split(' ')\n    }\n\n    return classes\n  }\n\n  // Private\n  _createDropdown() {\n    const dropdownEl = document.createElement('div')\n    dropdownEl.classList.add('picker')\n    this._dropdownEl = dropdownEl\n\n    const dropdownToggleEl = document.createElement('div')\n    this._dropdownToggleEl = dropdownToggleEl\n\n    if (!this._config.disabled) {\n      Manipulator.setDataAttribute(dropdownToggleEl, 'toggle', 'dropdown')\n    }\n\n    const dropdownMenuEl = document.createElement('div')\n    dropdownMenuEl.classList.add('dropdown-menu')\n    this._dropdownMenuEl = dropdownMenuEl\n\n    dropdownEl.append(dropdownToggleEl, dropdownMenuEl)\n\n    this._element.append(dropdownEl)\n\n    this._dropdown = new Dropdown(dropdownToggleEl, {\n      autoClose: 'outside'\n    })\n  }\n\n  _createFooter() {\n    const footerEl = document.createElement('div')\n    footerEl.classList.add('picker-footer')\n\n    footerEl.append(this._createFooterContent())\n\n    if (this._config.cancelButton) {\n      const cancelButtonEl = document.createElement('button')\n      cancelButtonEl.classList.add(...this._getButtonClasses(this._config.cancelButtonClasses))\n      cancelButtonEl.type = 'button'\n      cancelButtonEl.innerHTML = this._config.cancelButton\n      cancelButtonEl.addEventListener('click', () => {\n        this._dropdown.hide()\n        EventHandler.trigger(this._element, EVENT_CANCEL)\n      })\n\n      footerEl.append(cancelButtonEl)\n    }\n\n    if (this._config.confirmButton) {\n      const confirmButtonEl = document.createElement('button')\n      confirmButtonEl.classList.add(...this._getButtonClasses(this._config.confirmButtonClasses))\n      confirmButtonEl.type = 'button'\n      confirmButtonEl.innerHTML = this._config.confirmButton\n      confirmButtonEl.addEventListener('click', () => {\n        this._dropdown.hide()\n      })\n\n      footerEl.append(confirmButtonEl)\n    }\n\n    this._dropdownMenuEl.append(footerEl)\n  }\n\n  _createFooterContent() {\n    return ''\n  }\n\n  _createPicker() {\n    if (this._config.container === 'dropdown') {\n      this._createDropdown()\n    }\n\n    if (this._config.footer || this._config.timepicker) {\n      this._createFooter()\n    }\n  }\n\n  _getConfig(config) {\n    config = {\n      ...this.constructor.Default,\n      ...Manipulator.getDataAttributes(this._element),\n      ...(typeof config === 'object' ? config : {})\n    }\n\n    return config\n  }\n}\n\nexport default Picker\n"],"names":["NAME","DATA_KEY","EVENT_KEY","EVENT_CANCEL","Default","cancelButton","cancelButtonClasses","confirmButton","confirmButtonClasses","container","disabled","footer","DefaultType","Picker","BaseComponent","constructor","element","config","_config","_getConfig","_dropdown","_dropdownEl","_dropdownMenuEl","_dropdownToggleEl","_createPicker","_getButtonClasses","classes","split","_createDropdown","dropdownEl","document","createElement","classList","add","dropdownToggleEl","Manipulator","setDataAttribute","dropdownMenuEl","append","_element","Dropdown","autoClose","_createFooter","footerEl","_createFooterContent","cancelButtonEl","type","innerHTML","addEventListener","hide","EventHandler","trigger","confirmButtonEl","timepicker","getDataAttributes"],"mappings":";;;;;;;;;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;EAOA;EACA;EACA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,QAAb,CAAA;EACA,MAAMC,QAAQ,GAAG,eAAjB,CAAA;EACA,MAAMC,SAAS,GAAI,CAAGD,CAAAA,EAAAA,QAAS,CAA/B,CAAA,CAAA;EAEA,MAAME,YAAY,GAAI,CAAeD,aAAAA,EAAAA,SAAU,CAA/C,CAAA,CAAA;EAEA,MAAME,OAAO,GAAG;EACdC,EAAAA,YAAY,EAAE,QADA;EAEdC,EAAAA,mBAAmB,EAAE,CAAC,KAAD,EAAQ,QAAR,EAAkB,mBAAlB,CAFP;EAGdC,EAAAA,aAAa,EAAE,IAHD;EAIdC,EAAAA,oBAAoB,EAAE,CAAC,KAAD,EAAQ,QAAR,EAAkB,aAAlB,CAJR;EAKdC,EAAAA,SAAS,EAAE,UALG;EAMdC,EAAAA,QAAQ,EAAE,KANI;EAOdC,EAAAA,MAAM,EAAE,KAAA;EAPM,CAAhB,CAAA;EAUA,MAAMC,WAAW,GAAG;EAClBP,EAAAA,YAAY,EAAE,kBADI;EAElBC,EAAAA,mBAAmB,EAAE,gBAFH;EAGlBC,EAAAA,aAAa,EAAE,kBAHG;EAIlBC,EAAAA,oBAAoB,EAAE,gBAJJ;EAKlBC,EAAAA,SAAS,EAAE,QALO;EAMlBC,EAAAA,QAAQ,EAAE,SANQ;EAOlBC,EAAAA,MAAM,EAAE,SAAA;EAPU,CAApB,CAAA;EAUA;EACA;EACA;EACA;EACA;;EAEA,MAAME,MAAN,SAAqBC,8BAArB,CAAmC;EACjCC,EAAAA,WAAW,CAACC,OAAD,EAAUC,MAAV,EAAkB;EAC3B,IAAA,KAAA,CAAMD,OAAN,CAAA,CAAA;EAEA,IAAA,IAAA,CAAKE,OAAL,GAAe,IAAA,CAAKC,UAAL,CAAgBF,MAAhB,CAAf,CAAA;EACA,IAAA,IAAA,CAAKG,SAAL,GAAiB,IAAjB,CAJ2B;;MAO3B,IAAKC,CAAAA,WAAL,GAAmB,IAAnB,CAAA;MACA,IAAKC,CAAAA,eAAL,GAAuB,IAAvB,CAAA;MACA,IAAKC,CAAAA,iBAAL,GAAyB,IAAzB,CAAA;;EAEA,IAAA,IAAA,CAAKC,aAAL,EAAA,CAAA;EACD,GAbgC;;;EAgBf,EAAA,WAAPpB,OAAO,GAAG;EACnB,IAAA,OAAOA,OAAP,CAAA;EACD,GAAA;;EAEqB,EAAA,WAAXQ,WAAW,GAAG;EACvB,IAAA,OAAOA,WAAP,CAAA;EACD,GAAA;;EAEc,EAAA,WAAJZ,IAAI,GAAG;EAChB,IAAA,OAAOA,IAAP,CAAA;EACD,GAAA;;IAEDyB,iBAAiB,CAACC,OAAD,EAAU;EACzB,IAAA,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;EAC/B,MAAA,OAAOA,OAAO,CAACC,KAAR,CAAc,GAAd,CAAP,CAAA;EACD,KAAA;;EAED,IAAA,OAAOD,OAAP,CAAA;EACD,GAlCgC;;;EAqCjCE,EAAAA,eAAe,GAAG;EAChB,IAAA,MAAMC,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAnB,CAAA;EACAF,IAAAA,UAAU,CAACG,SAAX,CAAqBC,GAArB,CAAyB,QAAzB,CAAA,CAAA;MACA,IAAKZ,CAAAA,WAAL,GAAmBQ,UAAnB,CAAA;EAEA,IAAA,MAAMK,gBAAgB,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAzB,CAAA;MACA,IAAKR,CAAAA,iBAAL,GAAyBW,gBAAzB,CAAA;;EAEA,IAAA,IAAI,CAAC,IAAA,CAAKhB,OAAL,CAAaR,QAAlB,EAA4B;EAC1ByB,MAAAA,4BAAW,CAACC,gBAAZ,CAA6BF,gBAA7B,EAA+C,QAA/C,EAAyD,UAAzD,CAAA,CAAA;EACD,KAAA;;EAED,IAAA,MAAMG,cAAc,GAAGP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAvB,CAAA;EACAM,IAAAA,cAAc,CAACL,SAAf,CAAyBC,GAAzB,CAA6B,eAA7B,CAAA,CAAA;MACA,IAAKX,CAAAA,eAAL,GAAuBe,cAAvB,CAAA;EAEAR,IAAAA,UAAU,CAACS,MAAX,CAAkBJ,gBAAlB,EAAoCG,cAApC,CAAA,CAAA;;EAEA,IAAA,IAAA,CAAKE,QAAL,CAAcD,MAAd,CAAqBT,UAArB,CAAA,CAAA;;EAEA,IAAA,IAAA,CAAKT,SAAL,GAAiB,IAAIoB,yBAAJ,CAAaN,gBAAb,EAA+B;EAC9CO,MAAAA,SAAS,EAAE,SAAA;EADmC,KAA/B,CAAjB,CAAA;EAGD,GAAA;;EAEDC,EAAAA,aAAa,GAAG;EACd,IAAA,MAAMC,QAAQ,GAAGb,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB,CAAA;EACAY,IAAAA,QAAQ,CAACX,SAAT,CAAmBC,GAAnB,CAAuB,eAAvB,CAAA,CAAA;EAEAU,IAAAA,QAAQ,CAACL,MAAT,CAAgB,IAAA,CAAKM,oBAAL,EAAhB,CAAA,CAAA;;EAEA,IAAA,IAAI,IAAK1B,CAAAA,OAAL,CAAab,YAAjB,EAA+B;EAC7B,MAAA,MAAMwC,cAAc,GAAGf,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAvB,CAAA;EACAc,MAAAA,cAAc,CAACb,SAAf,CAAyBC,GAAzB,CAA6B,GAAG,IAAKR,CAAAA,iBAAL,CAAuB,IAAA,CAAKP,OAAL,CAAaZ,mBAApC,CAAhC,CAAA,CAAA;QACAuC,cAAc,CAACC,IAAf,GAAsB,QAAtB,CAAA;EACAD,MAAAA,cAAc,CAACE,SAAf,GAA2B,IAAK7B,CAAAA,OAAL,CAAab,YAAxC,CAAA;EACAwC,MAAAA,cAAc,CAACG,gBAAf,CAAgC,OAAhC,EAAyC,MAAM;UAC7C,IAAK5B,CAAAA,SAAL,CAAe6B,IAAf,EAAA,CAAA;;EACAC,QAAAA,6BAAY,CAACC,OAAb,CAAqB,IAAKZ,CAAAA,QAA1B,EAAoCpC,YAApC,CAAA,CAAA;SAFF,CAAA,CAAA;QAKAwC,QAAQ,CAACL,MAAT,CAAgBO,cAAhB,CAAA,CAAA;EACD,KAAA;;EAED,IAAA,IAAI,IAAK3B,CAAAA,OAAL,CAAaX,aAAjB,EAAgC;EAC9B,MAAA,MAAM6C,eAAe,GAAGtB,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAxB,CAAA;EACAqB,MAAAA,eAAe,CAACpB,SAAhB,CAA0BC,GAA1B,CAA8B,GAAG,IAAKR,CAAAA,iBAAL,CAAuB,IAAA,CAAKP,OAAL,CAAaV,oBAApC,CAAjC,CAAA,CAAA;QACA4C,eAAe,CAACN,IAAhB,GAAuB,QAAvB,CAAA;EACAM,MAAAA,eAAe,CAACL,SAAhB,GAA4B,IAAK7B,CAAAA,OAAL,CAAaX,aAAzC,CAAA;EACA6C,MAAAA,eAAe,CAACJ,gBAAhB,CAAiC,OAAjC,EAA0C,MAAM;UAC9C,IAAK5B,CAAAA,SAAL,CAAe6B,IAAf,EAAA,CAAA;SADF,CAAA,CAAA;QAIAN,QAAQ,CAACL,MAAT,CAAgBc,eAAhB,CAAA,CAAA;EACD,KAAA;;EAED,IAAA,IAAA,CAAK9B,eAAL,CAAqBgB,MAArB,CAA4BK,QAA5B,CAAA,CAAA;EACD,GAAA;;EAEDC,EAAAA,oBAAoB,GAAG;EACrB,IAAA,OAAO,EAAP,CAAA;EACD,GAAA;;EAEDpB,EAAAA,aAAa,GAAG;EACd,IAAA,IAAI,KAAKN,OAAL,CAAaT,SAAb,KAA2B,UAA/B,EAA2C;EACzC,MAAA,IAAA,CAAKmB,eAAL,EAAA,CAAA;EACD,KAAA;;MAED,IAAI,IAAA,CAAKV,OAAL,CAAaP,MAAb,IAAuB,IAAKO,CAAAA,OAAL,CAAamC,UAAxC,EAAoD;EAClD,MAAA,IAAA,CAAKX,aAAL,EAAA,CAAA;EACD,KAAA;EACF,GAAA;;IAEDvB,UAAU,CAACF,MAAD,EAAS;EACjBA,IAAAA,MAAM,GAAG,EACP,GAAG,IAAKF,CAAAA,WAAL,CAAiBX,OADb;EAEP,MAAA,GAAG+B,4BAAW,CAACmB,iBAAZ,CAA8B,IAAA,CAAKf,QAAnC,CAFI;EAGP,MAAA,IAAI,OAAOtB,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsC,EAA1C,CAAA;OAHF,CAAA;EAMA,IAAA,OAAOA,MAAP,CAAA;EACD,GAAA;;EAtHgC;;;;;;;;"}